{% extends "layout.html" %} {% block content %}
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container">
    <a class="navbar-brand font-weight-bold" href="#">Woocom Orders</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="{{url_for('webhooks')}}">Orders</a>
          </li>
        </ul>
    </div>
</div>
</nav>
<div  class="mt-3 ml-3 d-flex mr-3">
<div class="ml-auto">
  <form>
    <select title="Status" name="status" class="selectpicker">
      <option value="on-hold">On Hold</option>
      <option value="processing">Processing</option>
    </select>
    <button class="btn btn-info"><i class="fa fa-filter" aria-hidden="true"></i>
    </button>
  </form>
</div>
</div>
<div class="ml-3 mr-3 pt-3">
  <table class="table">
    <thead>
      <tr class="bg-info text-white">
        <th scope="col">Order ID</th>
        <th scope="col">Customer Name</th>
        <th scope="col">Phone Number</th>
        <th scope="col">City</th>
        <th scope="col">Status</th>
        <th scope="col">Payment Status</th>
        <th scope="col">Payment Type</th>
        <th scope="col">Order Date</th>
        <th scope="col">Amount</th>
        <th scope="col">Refund</th>
        <th scope="col">Amount Payble</th>
      </tr>
    </thead>
    <tbody>
      {% for o in orders %}
      <tr>
        <td scope="row">{{ o.id}}</td>
        <td scope="row">{{ o.billing.first_name}} {{ o.billing.last_name}}</td>
        <td scope="row">{{ o.billing.phone}}</td>
        <td scope="row">{{ o.billing.city}}</td>
        <td scope="row">{{ o.status}}</td>
        {% if o.date_paid == None %}
            <td scope="row">Unpaid</td>
            {% else %}
            <td scope="row">Paid</td>
        {% endif %}
        <td scope="row">{{ o.payment_method}}</td>
        <td scope="row">{{ o.date_created}}</td>
        <td scope="row">{{ o.total}}</td>
        <td scope="row">{{ o.total_refunds}}</td>
        <td scope="row">{{ o.total-o.total_refunds}}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
